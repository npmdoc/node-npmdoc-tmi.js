<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/tmijs/tmi.js#readme">tmi.js (v1.2.0)</a>
</h1>
<h4>Javascript library for the Twitch Messaging Interface.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js">module tmi.js</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.Client">
            function <span class="apidocSignatureSpan">tmi.js.</span>Client
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client">
            function <span class="apidocSignatureSpan">tmi.js.</span>client
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.js.client">
            function <span class="apidocSignatureSpan">tmi.js.</span>js.client
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.js.client.super_">
            function <span class="apidocSignatureSpan">tmi.js.</span>js.client.super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.client.prototype.utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.client.super_.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.commands</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.timer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.</span>js.utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.client">module tmi.js.client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.client">
            function <span class="apidocSignatureSpan">tmi.js.</span>client
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_">
            function <span class="apidocSignatureSpan">tmi.js.client.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.client.prototype">module tmi.js.client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._getPromiseDelay">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_getPromiseDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._onClose">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onClose
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._onError">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onError
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._onMessage">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onMessage
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._onOpen">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onOpen
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._openConnection">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_openConnection
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._sendCommand">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_sendCommand
            <span class="apidocSignatureSpan">(delay, channel, command, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._sendMessage">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_sendMessage
            <span class="apidocSignatureSpan">(delay, channel, message, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype._updateEmoteset">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_updateEmoteset
            <span class="apidocSignatureSpan">(sets)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.action">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>action
            <span class="apidocSignatureSpan">(channel, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.api">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>api
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.ban">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>ban
            <span class="apidocSignatureSpan">(channel, username, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.clear">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>clear
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.color">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>color
            <span class="apidocSignatureSpan">(channel, newColor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.commercial">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>commercial
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.connect">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>connect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.constructor">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>constructor
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.disconnect">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>disconnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.emoteonly">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>emoteonly
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.emoteonlyoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>emoteonlyoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.followersmode">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersmode
            <span class="apidocSignatureSpan">(channel, minutes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.followersmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.followersonly">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersonly
            <span class="apidocSignatureSpan">(channel, minutes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.followersonlyoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersonlyoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.getChannels">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getChannels
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.getOptions">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.getUsername">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getUsername
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.handleMessage">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>handleMessage
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.host">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>host
            <span class="apidocSignatureSpan">(channel, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.isMod">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>isMod
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.join">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>join
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.leave">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>leave
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.mod">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>mod
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.mods">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>mods
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.part">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>part
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.ping">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>ping
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.r9kbeta">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kbeta
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.r9kbetaoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kbetaoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.r9kmode">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kmode
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.r9kmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.raw">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>raw
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.readyState">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>readyState
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.say">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>say
            <span class="apidocSignatureSpan">(channel, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.slow">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slow
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.slowmode">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowmode
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.slowmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.slowoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.subscribers">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>subscribers
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.subscribersoff">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>subscribersoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.timeout">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>timeout
            <span class="apidocSignatureSpan">(channel, username, seconds, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.unban">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unban
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.unhost">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unhost
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.unmod">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unmod
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.whisper">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>whisper
            <span class="apidocSignatureSpan">(username, message)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.client.prototype.utils">module tmi.js.client.prototype.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.utils.levenshtein">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>levenshtein
            <span class="apidocSignatureSpan">(s1, s2, caseSensitive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.utils.symbols">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>symbols
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.prototype.utils.uppercase">
            function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>uppercase
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>raffle</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.client.super_">module tmi.js.client.super_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.super_">
            function <span class="apidocSignatureSpan">tmi.js.client.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.EventEmitter">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.</span>EventEmitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.listenerCount">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.</span>listenerCount
            <span class="apidocSignatureSpan">(emitter, type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">tmi.js.client.super_.</span>defaultMaxListeners</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.client.super_.prototype">module tmi.js.client.super_.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.addListener">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>addListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.emit">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>emit
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.emits">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>emits
            <span class="apidocSignatureSpan">(types, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.listenerCount">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>listenerCount
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.listeners">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>listeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.on">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>on
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.once">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>once
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.removeAllListeners">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>removeAllListeners
            <span class="apidocSignatureSpan">(type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.removeListener">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>removeListener
            <span class="apidocSignatureSpan">(type, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.client.super_.prototype.setMaxListeners">
            function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>setMaxListeners
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.commands">module tmi.js.commands</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.action">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>action
            <span class="apidocSignatureSpan">(channel, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.ban">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>ban
            <span class="apidocSignatureSpan">(channel, username, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.clear">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>clear
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.color">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>color
            <span class="apidocSignatureSpan">(channel, newColor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.commercial">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>commercial
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.emoteonly">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>emoteonly
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.emoteonlyoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>emoteonlyoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.followersmode">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersmode
            <span class="apidocSignatureSpan">(channel, minutes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.followersmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.followersonly">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersonly
            <span class="apidocSignatureSpan">(channel, minutes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.followersonlyoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersonlyoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.host">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>host
            <span class="apidocSignatureSpan">(channel, target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.join">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>join
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.leave">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>leave
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.mod">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>mod
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.mods">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>mods
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.part">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>part
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.ping">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>ping
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.r9kbeta">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kbeta
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.r9kbetaoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kbetaoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.r9kmode">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kmode
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.r9kmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.raw">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>raw
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.say">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>say
            <span class="apidocSignatureSpan">(channel, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.slow">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>slow
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.slowmode">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowmode
            <span class="apidocSignatureSpan">(channel, seconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.slowmodeoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowmodeoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.slowoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.subscribers">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>subscribers
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.subscribersoff">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>subscribersoff
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.timeout">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>timeout
            <span class="apidocSignatureSpan">(channel, username, seconds, reason)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.unban">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>unban
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.unhost">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>unhost
            <span class="apidocSignatureSpan">(channel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.unmod">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>unmod
            <span class="apidocSignatureSpan">(channel, username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.commands.whisper">
            function <span class="apidocSignatureSpan">tmi.js.commands.</span>whisper
            <span class="apidocSignatureSpan">(username, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.logger">module tmi.js.logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.debug">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>debug
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.error">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>error
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.fatal">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>fatal
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.info">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>info
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.setLevel">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>setLevel
            <span class="apidocSignatureSpan">(level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.trace">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>trace
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.logger.warn">
            function <span class="apidocSignatureSpan">tmi.js.logger.</span>warn
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.parser">module tmi.js.parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.badges">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>badges
            <span class="apidocSignatureSpan">(tags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.emoteRegex">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>emoteRegex
            <span class="apidocSignatureSpan">(msg, code, id, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.emoteString">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>emoteString
            <span class="apidocSignatureSpan">(msg, code, id, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.emotes">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>emotes
            <span class="apidocSignatureSpan">(tags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.msg">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>msg
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.parser.transformEmotes">
            function <span class="apidocSignatureSpan">tmi.js.parser.</span>transformEmotes
            <span class="apidocSignatureSpan">(emotes)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.timer">module tmi.js.timer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.timer.queue">
            function <span class="apidocSignatureSpan">tmi.js.timer.</span>queue
            <span class="apidocSignatureSpan">(defaultDelay)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.tmi.js.utils">module tmi.js.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.addWord">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>addWord
            <span class="apidocSignatureSpan">(line, word)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.channel">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>channel
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.extractNumber">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>extractNumber
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.formatDate">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>formatDate
            <span class="apidocSignatureSpan">(date)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.get">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>get
            <span class="apidocSignatureSpan">(obj1, obj2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.inherits">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>inherits
            <span class="apidocSignatureSpan">(ctor, superCtor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isBoolean">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isBoolean
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isExtension">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isExtension
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isFinite">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isFinite
            <span class="apidocSignatureSpan">(int)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isInteger">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isInteger
            <span class="apidocSignatureSpan">(int)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isJustinfan">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isJustinfan
            <span class="apidocSignatureSpan">(username)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isNode">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isNode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isNull">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isNull
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isRegex">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isRegex
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isString">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isString
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.isURL">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>isURL
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.justinfan">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>justinfan
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.merge">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>merge
            <span class="apidocSignatureSpan">(obj1, obj2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.password">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>password
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.promiseDelay">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>promiseDelay
            <span class="apidocSignatureSpan">(time)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.replaceAll">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>replaceAll
            <span class="apidocSignatureSpan">(str, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.splitLine">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>splitLine
            <span class="apidocSignatureSpan">(input, length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.toNumber">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>toNumber
            <span class="apidocSignatureSpan">(num, precision)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.unescapeHtml">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>unescapeHtml
            <span class="apidocSignatureSpan">(safe)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.union">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>union
            <span class="apidocSignatureSpan">(arr1, arr2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.tmi.js.utils.username">
            function <span class="apidocSignatureSpan">tmi.js.utils.</span>username
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js" id="apidoc.module.tmi.js">module tmi.js</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.Client" id="apidoc.element.tmi.js.Client">
        function <span class="apidocSignatureSpan">tmi.js.</span>Client
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function client(opts) {
    if (this instanceof client === false) { return new client(opts); }
    this.setMaxListeners(0);

    this.opts = _.get(opts, {});
    this.opts.channels = this.opts.channels || [];
    this.opts.connection = this.opts.connection || {};
    this.opts.identity = this.opts.identity || {};
    this.opts.options = this.opts.options || {};

    this.clientId = _.get(this.opts.options.clientId, null);

    this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);
    this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);
    this.reconnect = _.get(this.opts.connection.reconnect, false);
    this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);
    this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);

    this.reconnecting = false;
    this.reconnections = 0;
    this.reconnectTimer = this.reconnectInterval;

    this.secure = _.get(this.opts.connection.secure, false);

    // Raw data and object for emote-sets..
    this.emotes = "";
    this.emotesets = {};

    this.channels = [];
    this.currentLatency = 0;
    this.globaluserstate = {};
    this.lastJoined = "";
    this.latency = new Date();
    this.moderators = {};
    this.pingLoop = null;
    this.pingTimeout = null;
    this.reason = "";
    this.username = "";
    this.userstate = {};
    this.wasCloseCalled = false;
    this.ws = null;

    // Create the logger..
    var level = "error";
    if (this.opts.options.debug) { level = "info"; }
    this.log = this.opts.logger || logger;

    try { logger.setLevel(level); } catch(e) {};

    // Format the channel names..
    this.opts.channels.forEach(function(part, index, theArray) {
        theArray[index] = _.channel(part);
    });

    eventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client" id="apidoc.element.tmi.js.client">
        function <span class="apidocSignatureSpan">tmi.js.</span>client
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function client(opts) {
    if (this instanceof client === false) { return new client(opts); }
    this.setMaxListeners(0);

    this.opts = _.get(opts, {});
    this.opts.channels = this.opts.channels || [];
    this.opts.connection = this.opts.connection || {};
    this.opts.identity = this.opts.identity || {};
    this.opts.options = this.opts.options || {};

    this.clientId = _.get(this.opts.options.clientId, null);

    this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);
    this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);
    this.reconnect = _.get(this.opts.connection.reconnect, false);
    this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);
    this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);

    this.reconnecting = false;
    this.reconnections = 0;
    this.reconnectTimer = this.reconnectInterval;

    this.secure = _.get(this.opts.connection.secure, false);

    // Raw data and object for emote-sets..
    this.emotes = "";
    this.emotesets = {};

    this.channels = [];
    this.currentLatency = 0;
    this.globaluserstate = {};
    this.lastJoined = "";
    this.latency = new Date();
    this.moderators = {};
    this.pingLoop = null;
    this.pingTimeout = null;
    this.reason = "";
    this.username = "";
    this.userstate = {};
    this.wasCloseCalled = false;
    this.ws = null;

    // Create the logger..
    var level = "error";
    if (this.opts.options.debug) { level = "info"; }
    this.log = this.opts.logger || logger;

    try { logger.setLevel(level); } catch(e) {};

    // Format the channel names..
    this.opts.channels.forEach(function(part, index, theArray) {
        theArray[index] = _.channel(part);
    });

    eventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.js.client" id="apidoc.element.tmi.js.js.client">
        function <span class="apidocSignatureSpan">tmi.js.</span>js.client
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function client(opts) {
    if (this instanceof client === false) { return new client(opts); }
    this.setMaxListeners(0);

    this.opts = _.get(opts, {});
    this.opts.channels = this.opts.channels || [];
    this.opts.connection = this.opts.connection || {};
    this.opts.identity = this.opts.identity || {};
    this.opts.options = this.opts.options || {};

    this.clientId = _.get(this.opts.options.clientId, null);

    this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);
    this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);
    this.reconnect = _.get(this.opts.connection.reconnect, false);
    this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);
    this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);

    this.reconnecting = false;
    this.reconnections = 0;
    this.reconnectTimer = this.reconnectInterval;

    this.secure = _.get(this.opts.connection.secure, false);

    // Raw data and object for emote-sets..
    this.emotes = "";
    this.emotesets = {};

    this.channels = [];
    this.currentLatency = 0;
    this.globaluserstate = {};
    this.lastJoined = "";
    this.latency = new Date();
    this.moderators = {};
    this.pingLoop = null;
    this.pingTimeout = null;
    this.reason = "";
    this.username = "";
    this.userstate = {};
    this.wasCloseCalled = false;
    this.ws = null;

    // Create the logger..
    var level = "error";
    if (this.opts.options.debug) { level = "info"; }
    this.log = this.opts.logger || logger;

    try { logger.setLevel(level); } catch(e) {};

    // Format the channel names..
    this.opts.channels.forEach(function(part, index, theArray) {
        theArray[index] = _.channel(part);
    });

    eventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.js.client.super_" id="apidoc.element.tmi.js.js.client.super_">
        function <span class="apidocSignatureSpan">tmi.js.</span>js.client.super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
    this._events = this._events || {};
    this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.client" id="apidoc.module.tmi.js.client">module tmi.js.client</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.client.client" id="apidoc.element.tmi.js.client.client">
        function <span class="apidocSignatureSpan">tmi.js.</span>client
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function client(opts) {
    if (this instanceof client === false) { return new client(opts); }
    this.setMaxListeners(0);

    this.opts = _.get(opts, {});
    this.opts.channels = this.opts.channels || [];
    this.opts.connection = this.opts.connection || {};
    this.opts.identity = this.opts.identity || {};
    this.opts.options = this.opts.options || {};

    this.clientId = _.get(this.opts.options.clientId, null);

    this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);
    this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);
    this.reconnect = _.get(this.opts.connection.reconnect, false);
    this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);
    this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);

    this.reconnecting = false;
    this.reconnections = 0;
    this.reconnectTimer = this.reconnectInterval;

    this.secure = _.get(this.opts.connection.secure, false);

    // Raw data and object for emote-sets..
    this.emotes = "";
    this.emotesets = {};

    this.channels = [];
    this.currentLatency = 0;
    this.globaluserstate = {};
    this.lastJoined = "";
    this.latency = new Date();
    this.moderators = {};
    this.pingLoop = null;
    this.pingTimeout = null;
    this.reason = "";
    this.username = "";
    this.userstate = {};
    this.wasCloseCalled = false;
    this.ws = null;

    // Create the logger..
    var level = "error";
    if (this.opts.options.debug) { level = "info"; }
    this.log = this.opts.logger || logger;

    try { logger.setLevel(level); } catch(e) {};

    // Format the channel names..
    this.opts.channels.forEach(function(part, index, theArray) {
        theArray[index] = _.channel(part);
    });

    eventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_" id="apidoc.element.tmi.js.client.super_">
        function <span class="apidocSignatureSpan">tmi.js.client.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
    this._events = this._events || {};
    this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.client.prototype" id="apidoc.module.tmi.js.client.prototype">module tmi.js.client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._getPromiseDelay" id="apidoc.element.tmi.js.client.prototype._getPromiseDelay">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_getPromiseDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getPromiseDelay() {
    if (this.currentLatency &lt;= 600) { return 600; }
    else { return this.currentLatency + 100; }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Enable followers-only mode on a channel..
function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this.<span class="apidocCodeKeywordSpan">_getPromiseDelay</span>(), channel, `/followers ${minutes}`, (
resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._onClose" id="apidoc.element.tmi.js.client.prototype._onClose">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onClose
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onClose() {
    this.moderators = {};
    this.userstate = {};
    this.globaluserstate = {};

    // Stop the internal ping timeout check interval..
    clearInterval(this.pingLoop);
    clearTimeout(this.pingTimeout);

    // User called .disconnect(), don't try to reconnect.
    if (this.wasCloseCalled) {
        this.wasCloseCalled = false;
        this.reason = "Connection closed.";
        this.log.info(this.reason);
        this.emits(["_promiseConnect", "_promiseDisconnect", "disconnected"], [[this.reason], [null], [this.reason]]);
    }
    // Got disconnected from server..
    else {
        this.emits(["_promiseConnect", "disconnected"], [[this.reason], [this.reason]]);

        // Reconnect to server..
        if (this.reconnect &amp;&amp; this.reconnections === this.maxReconnectAttempts) {
            this.emit("maxreconnect");
            this.log.error("Maximum reconnection attempts reached.");
        }
        if (this.reconnect &amp;&amp; !this.reconnecting &amp;&amp; this.reconnections &lt;= this.maxReconnectAttempts-1) {
            this.reconnecting = true;
            this.reconnections = this.reconnections+1;
            this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer / 1000)} seconds..`);
            this.emit("reconnect");
            setTimeout(() =&gt; { this.reconnecting = false; this.connect(); }, this.reconnectTimer);
        }
    }

    this.ws = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._onError" id="apidoc.element.tmi.js.client.prototype._onError">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onError
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onError() {
    this.moderators = {};
    this.userstate = {};
    this.globaluserstate = {};

    // Stop the internal ping timeout check interval..
    clearInterval(this.pingLoop);
    clearTimeout(this.pingTimeout);

    this.reason = !_.isNull(this.ws) ? "Unable to connect." : "Connection closed.";

    this.emits(["_promiseConnect", "disconnected"], [[this.reason], [this.reason]]);

    // Reconnect to server..
    if (this.reconnect &amp;&amp; this.reconnections === this.maxReconnectAttempts) {
        this.emit("maxreconnect");
        this.log.error("Maximum reconnection attempts reached.");
    }
    if (this.reconnect &amp;&amp; !this.reconnecting &amp;&amp; this.reconnections &lt;= this.maxReconnectAttempts-1) {
        this.reconnecting = true;
        this.reconnections = this.reconnections+1;
        this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer / 1000)} seconds..`);
        this.emit("reconnect");
        setTimeout(() =&gt; { this.reconnecting = false; this.connect(); }, this.reconnectTimer);
    }

    this.ws = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._onMessage" id="apidoc.element.tmi.js.client.prototype._onMessage">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onMessage
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onMessage(event) {
    var parts = event.data.split("\r\n");

    parts.forEach((str) =&gt; {
        if (!_.isNull(str)) { this.handleMessage(parse.msg(str)); }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._onOpen" id="apidoc.element.tmi.js.client.prototype._onOpen">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_onOpen
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onOpen() {
    if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState === 1) {
        // Emitting "connecting" event..
        this.log.info(`Connecting to ${this.server} on port ${this.port}..`);
        this.emit("connecting", this.server, ~~this.port);

        this.username = _.get(this.opts.identity.username, _.justinfan());
        this.password = _.password(_.get(this.opts.identity.password, "SCHMOOPIIE"));

        // Emitting "logon" event..
        this.log.info("Sending authentication to server..");
        this.emit("logon");

        // Authentication..
        this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership");
        this.ws.send(`PASS ${this.password}`);
        this.ws.send(`NICK ${this.username}`);
        this.ws.send(`USER ${this.username} 8 * :${this.username}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._openConnection" id="apidoc.element.tmi.js.client.prototype._openConnection">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_openConnection
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _openConnection() {
    this.ws = new ws(`${this.secure ? "wss" : "ws"}://${this.server}:${this.port}/`, "irc");

    this.ws.onmessage = this._onMessage.bind(this);
    this.ws.onerror = this._onError.bind(this);
    this.ws.onclose = this._onClose.bind(this);
    this.ws.onopen = this._onOpen.bind(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._sendCommand" id="apidoc.element.tmi.js.client.prototype._sendCommand">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_sendCommand
        <span class="apidocSignatureSpan">(delay, channel, command, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _sendCommand(delay, channel, command, fn) {
    // Race promise against delay..
    return new Promise((resolve, reject) =&gt; {
        _.promiseDelay(delay).then(() =&gt; { reject("No response from Twitch."); });

        // Make sure the socket is opened..
        if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState !== 2 &amp;&amp; this.ws.readyState !== 3) {
            // Executing a command on a channel..
            if (!_.isNull(channel)) {
                this.log.info(`[${_.channel(channel)}] Executing command: ${command}`);
                this.ws.send(`PRIVMSG ${_.channel(channel)} :${command}`);
            }

            // Executing a raw command..
            else {
                this.log.info(`Executing command: ${command}`);
                this.ws.send(command);
            }
            fn(resolve, reject);
        }

        // Disconnected from server..
        else { reject("Not connected to server."); }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Enable followers-only mode on a channel..
function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this.<span class="apidocCodeKeywordSpan">_sendCommand</span>(this._getPromiseDelay(), channel, `/followers ${minutes}`, (
resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._sendMessage" id="apidoc.element.tmi.js.client.prototype._sendMessage">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_sendMessage
        <span class="apidocSignatureSpan">(delay, channel, message, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _sendMessage(delay, channel, message, fn) {
    // Promise a result..
    return new Promise((resolve, reject) =&gt; {
        // Make sure the socket is opened and not logged in as a justinfan user..
        if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState !== 2 &amp;&amp; this.ws.readyState !== 3 &amp;&amp; !_.isJustinfan(this.getUsername())) {
            if (!this.userstate[_.channel(channel)]) { this.userstate[_.channel(channel)] = {} }

            // Split long lines otherwise they will be eaten by the server..
            if (message.length &gt;= 500) {
                var msg = _.splitLine(message, 500);
                message = msg[0];

                setTimeout(() =&gt; {
                    this._sendMessage(delay, channel, msg[1], () =&gt; {});
                }, 350);
            }

            this.ws.send(`PRIVMSG ${_.channel(channel)} :${message}`);

            var emotes = {};

            // Parse regex and string emotes..
            Object.keys(this.emotesets).forEach((id) =&gt; {
                this.emotesets[id].forEach(function(emote) {
                    if (_.isRegex(emote.code)) { return parse.emoteRegex(message, emote.code, emote.id, emotes); }
                    parse.emoteString(message, emote.code, emote.id, emotes);
                });
            });

            // Merge userstate with parsed emotes..
            var userstate = _.merge(this.userstate[_.channel(channel)], parse.emotes({ emotes: parse.transformEmotes(emotes) ||
null }));

            // Message is an action (/me &lt;message&gt;)..
            if (message.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)) {
                userstate["message-type"] = "action";
                this.log.info(`[${_.channel(channel)}] *&lt;${this.getUsername()}&gt;: ${message.match(/^\u0001ACTION ([^\u0001]+)\u0001
$/)[1]}`);
                this.emits(["action", "message"], [
                    [_.channel(channel), userstate, message.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1], true],
                    [_.channel(channel), userstate, message.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1], true]
                ]);
            }

            // Message is a regular chat message..
            else {
                userstate["message-type"] = "chat";
                this.log.info(`[${_.channel(channel)}] &lt;${this.getUsername()}&gt;: ${message}`);
                this.emits(["chat", "message"], [
                    [_.channel(channel), userstate, message, true],
                    [_.channel(channel), userstate, message, true]
                ]);
            }
            fn(resolve, reject);
        } else {
            reject("Not connected to server.");
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = {
// Send action message (/me &lt;message&gt;) on a channel..
action: function action(channel, message) {
    channel = _.channel(channel);
    message = `\u0001ACTION ${message}\u0001`;

    // Send the command to the server and race the Promise against a delay..
    return this.<span class="apidocCodeKeywordSpan">_sendMessage</span>(this._getPromiseDelay(), channel, message, (resolve, reject
) =&gt; {
        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([channel, message]);
    });
},

// Ban username on channel..
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype._updateEmoteset" id="apidoc.element.tmi.js.client.prototype._updateEmoteset">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>_updateEmoteset
        <span class="apidocSignatureSpan">(sets)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _updateEmoteset(sets) {
    this.emotes = sets;

    this.api({
        url: `/chat/emoticon_images?emotesets=${sets}`,
        headers: {
            "Authorization": `OAuth ${_.password(_.get(this.opts.identity.password, "")).replace("oauth:", "")}`,
            "Client-ID": this.clientId
        }
    }, (err, res, body) =&gt; {
        if (!err) {
            this.emotesets = body["emoticon_sets"] || {};
            return this.emit("emotesets", sets, this.emotesets);
        }
        setTimeout(() =&gt; { this._updateEmoteset(sets); }, 60000);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.action" id="apidoc.element.tmi.js.client.prototype.action">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>action
        <span class="apidocSignatureSpan">(channel, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function action(channel, message) {
    channel = _.channel(channel);
    message = `\u0001ACTION ${message}\u0001`;

    // Send the command to the server and race the Promise against a delay..
    return this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([channel, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // Send a message on a channel..
    say: function say(channel, message) {
channel = _.channel(channel);

if ((message.startsWith(".") &amp;&amp; !message.startsWith("..")) || message.startsWith("/") ||
message.startsWith("\\")) {
    // Check if the message is an action message..
    if (message.substr(1, 3) === "me ") {
        return this.<span class="apidocCodeKeywordSpan">action</span>(channel, message.substr(4));
    }
    else {
        // Send the command to the server and race the Promise against a delay..
        return this._sendCommand(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
            // At this time, there is no possible way to detect if a message has been sent has been eaten
            // by the server, so we can only resolve the Promise.
            resolve([channel, message]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.api" id="apidoc.element.tmi.js.client.prototype.api">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>api
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function api(options, callback) {
    // Set the url to options.uri or options.url..
    var url = _.get(options.url, null) === null ? _.get(options.uri, null) : _.get(options.url, null);

    // Make sure it is a valid url..
    if (!_.isURL(url)) { url = url.charAt(0) === "/" ? `https://api.twitch.tv/kraken${url}` : `https://api.twitch.tv/kraken/${url
}`; }

    // We are inside a Node application, so we can use the request module..
    if (_.isNode()) {
        request(_.merge(options, { url: url, method: "GET", json: true }), function (err, res, body) {
            callback(err, res, body);
        });
    }
    // Inside an extension -&gt; we cannot use jsonp!
    else if (_.isExtension()) {
      options = _.merge(options, { url: url, method: "GET", headers: {} })
      // prepare request
      var xhr = new XMLHttpRequest();
      xhr.open(options.method, options.url, true);
      for(var name in options.headers) {
        xhr.setRequestHeader(name, options.headers[name]);
      }
      xhr.responseType = "json";
      // set request handler
      xhr.addEventListener("load", (ev) =&gt; {
        if(xhr.readyState == 4) {
          if(xhr.status != 200) {
            callback(xhr.status, null, null);
          } else {
            callback(null, null, xhr.response);
          }
        }
      });
      // submit
      xhr.send();
    }
    // Inside a web application, use jsonp..
    else {
        // Callbacks must match the regex [a-zA-Z_$][\w$]*(\.[a-zA-Z_$][\w$]*)*
        var callbackName = `jsonp_callback_${Math.round(100000 * Math.random())}`;
        window[callbackName] = function(data) {
            delete window[callbackName];
            document.body.removeChild(script);
            callback(null, null, data);
        };

        // Inject the script in the document..
        var script = document.createElement("script");
        script.src = `${url}${url.indexOf("?") &gt;= 0 ? "&amp;" : "?"}callback=${callbackName}`;
        document.body.appendChild(script);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.ban" id="apidoc.element.tmi.js.client.prototype.ban">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>ban
        <span class="apidocSignatureSpan">(channel, username, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ban(channel, username, reason) {
    channel = _.channel(channel);
    username = _.username(username);
    reason = _.get(reason, "");

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/ban ${username} ${reason}`, (resolve, reject) =&gt; {
        // Received _promiseBan event, resolve or reject..
        this.once("_promiseBan", (err) =&gt; {
            if (!err) { resolve([channel, username, reason]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.clear" id="apidoc.element.tmi.js.client.prototype.clear">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>clear
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clear(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/clear", (resolve, reject) =&gt; {
        // Received _promiseClear event, resolve or reject..
        this.once("_promiseClear", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.color" id="apidoc.element.tmi.js.client.prototype.color">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>color
        <span class="apidocSignatureSpan">(channel, newColor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function color(channel, newColor) {
    newColor = _.get(newColor, channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), "#tmijs", `/color ${newColor}`, (resolve, reject) =&gt; {
        // Received _promiseColor event, resolve or reject..
        this.once("_promiseColor", (err) =&gt; {
            if (!err) { resolve([newColor]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.commercial" id="apidoc.element.tmi.js.client.prototype.commercial">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>commercial
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function commercial(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/commercial ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseCommercial event, resolve or reject..
        this.once("_promiseCommercial", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.connect" id="apidoc.element.tmi.js.client.prototype.connect">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>connect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function connect() {
    return new Promise((resolve, reject) =&gt; {
        this.server = _.get(this.opts.connection.server, "irc-ws.chat.twitch.tv");
        this.port = _.get(this.opts.connection.port, 80);

        // Override port if using a secure connection..
        if (this.secure) { this.port = 443; }
        if (this.port === 443) { this.secure = true; }

        this.reconnectTimer = this.reconnectTimer * this.reconnectDecay;
        if (this.reconnectTimer &gt;= this.maxReconnectInterval) {
            this.reconnectTimer = this.maxReconnectInterval;
        }

        // Connect to server from configuration..
        this._openConnection();
        this.once("_promiseConnect", (err) =&gt; {
            if (!err) { resolve([this.server, ~~this.port]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.constructor" id="apidoc.element.tmi.js.client.prototype.constructor">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>constructor
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function client(opts) {
    if (this instanceof client === false) { return new client(opts); }
    this.setMaxListeners(0);

    this.opts = _.get(opts, {});
    this.opts.channels = this.opts.channels || [];
    this.opts.connection = this.opts.connection || {};
    this.opts.identity = this.opts.identity || {};
    this.opts.options = this.opts.options || {};

    this.clientId = _.get(this.opts.options.clientId, null);

    this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);
    this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);
    this.reconnect = _.get(this.opts.connection.reconnect, false);
    this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);
    this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);

    this.reconnecting = false;
    this.reconnections = 0;
    this.reconnectTimer = this.reconnectInterval;

    this.secure = _.get(this.opts.connection.secure, false);

    // Raw data and object for emote-sets..
    this.emotes = "";
    this.emotesets = {};

    this.channels = [];
    this.currentLatency = 0;
    this.globaluserstate = {};
    this.lastJoined = "";
    this.latency = new Date();
    this.moderators = {};
    this.pingLoop = null;
    this.pingTimeout = null;
    this.reason = "";
    this.username = "";
    this.userstate = {};
    this.wasCloseCalled = false;
    this.ws = null;

    // Create the logger..
    var level = "error";
    if (this.opts.options.debug) { level = "info"; }
    this.log = this.opts.logger || logger;

    try { logger.setLevel(level); } catch(e) {};

    // Format the channel names..
    this.opts.channels.forEach(function(part, index, theArray) {
        theArray[index] = _.channel(part);
    });

    eventEmitter.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.disconnect" id="apidoc.element.tmi.js.client.prototype.disconnect">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>disconnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function disconnect() {
    return new Promise((resolve, reject) =&gt; {
        if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState !== 3) {
            this.wasCloseCalled = true;
            this.log.info("Disconnecting from server..");
            this.ws.close();
            this.once("_promiseDisconnect", () =&gt; { resolve([this.server, ~~this.port]); });
        } else {
            this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing.");
            reject("Cannot disconnect from server. Socket is not opened or connection is already closing.");
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.emoteonly" id="apidoc.element.tmi.js.client.prototype.emoteonly">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>emoteonly
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteonly(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/emoteonly", (resolve, reject) =&gt; {
        // Received _promiseEmoteonly event, resolve or reject..
        this.once("_promiseEmoteonly", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.emoteonlyoff" id="apidoc.element.tmi.js.client.prototype.emoteonlyoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>emoteonlyoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/emoteonlyoff", (resolve, reject) =&gt; {
        // Received _promiseEmoteonlyoff event, resolve or reject..
        this.once("_promiseEmoteonlyoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.followersmode" id="apidoc.element.tmi.js.client.prototype.followersmode">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersmode
        <span class="apidocSignatureSpan">(channel, minutes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.followersmodeoff" id="apidoc.element.tmi.js.client.prototype.followersmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/followersoff", (resolve, reject) =&gt; {
        // Received _promiseFollowersoff event, resolve or reject..
        this.once("_promiseFollowersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.followersonly" id="apidoc.element.tmi.js.client.prototype.followersonly">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersonly
        <span class="apidocSignatureSpan">(channel, minutes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.followersonlyoff" id="apidoc.element.tmi.js.client.prototype.followersonlyoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>followersonlyoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/followersoff", (resolve, reject) =&gt; {
        // Received _promiseFollowersoff event, resolve or reject..
        this.once("_promiseFollowersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.getChannels" id="apidoc.element.tmi.js.client.prototype.getChannels">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getChannels
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getChannels() {
    return this.channels;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.getOptions" id="apidoc.element.tmi.js.client.prototype.getOptions">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getOptions() {
    return this.opts;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.getUsername" id="apidoc.element.tmi.js.client.prototype.getUsername">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>getUsername
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUsername() {
    return this.username;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    },

    // Send an whisper message to a user..
    whisper: function whisper(username, message) {
username = _.username(username);

// The server will not send a whisper to the account that sent it.
if (username === this.<span class="apidocCodeKeywordSpan">getUsername</span>()) {
    return Promise.reject("Cannot send a whisper to the same account.");
}

// Send the command to the server and race the Promise against a delay..
return this._sendCommand(this._getPromiseDelay(), "#tmijs", `/w ${username} ${message}`, (resolve, reject) =&gt; {
    var from = _.channel(username),
        userstate = _.merge({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.handleMessage" id="apidoc.element.tmi.js.client.prototype.handleMessage">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>handleMessage
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function handleMessage(message) {
    if (!_.isNull(message)) {
        var channel = _.channel(_.get(message.params[0], null));
        var msg = _.get(message.params[1], null);
        var msgid = _.get(message.tags["msg-id"], null);

        // Parse badges and emotes..
        message.tags = parse.badges(parse.emotes(message.tags));

        // Transform IRCv3 tags..
        if (message.tags) {
            for(var key in message.tags) {
                if (key !== "emote-sets" &amp;&amp; key !== "ban-duration" &amp;&amp; key !== "bits") {
                    if (_.isBoolean(message.tags[key])) { message.tags[key] = null; }
                    else if (message.tags[key] === "1") { message.tags[key] = true; }
                    else if (message.tags[key] === "0") { message.tags[key] = false; }
                }
            }
        }

        // Messages with no prefix..
        if (_.isNull(message.prefix)) {
            switch(message.command) {
                // Received PING from server..
                case "PING":
                    this.emit("ping");
                    if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState !== 2 &amp;&amp; this.ws.readyState !== 3) {
                        this.ws.send("PONG");
                    }
                    break;

                // Received PONG from server, return current latency..
                case "PONG":
                    var currDate = new Date();
                    this.currentLatency = (currDate.getTime() - this.latency.getTime()) / 1000;
                    this.emits(["pong", "_promisePing"], [[this.currentLatency], [this.currentLatency]]);

                    clearTimeout(this.pingTimeout);
                    break;

                default:
                    this.log.warn(`Could not parse message with no prefix:\n${JSON.stringify(message, null, 4)}`);
                    break;
            }
        }

        // Messages with "tmi.twitch.tv" as a prefix..
        else if (message.prefix === "tmi.twitch.tv") {
            switch(message.command) {
                case "002":
                case "003":
                case "004":
                case "375":
                case "376":
                case "CAP":
                    break;

                // Retrieve username from server..
                case "001":
                    this.username = message.params[0];
                    break;

                // Connected to server..
                case "372":
                    this.log.info("Connected to server.");
                    this.userstate["#tmijs"] = {};
                    this.emits(["connected", "_promiseConnect"], [[this.server, this.port], [null]]);
                    this.reconnections = 0;
                    this.reconnectTimer = this.reconnectInterval;

                    // Set an internal ping timeout check interval..
                    this.pingLoop = setInterval(() =&gt; {
                        // Make sure the connection is opened before sending the message..
                        if (!_.isNull(this.ws) &amp;&amp; this.ws.readyState !== 2 &amp;&amp; this.ws.readyState !== 3) {
                            this.ws.send("PING");
                        }
                        this.latency = new Date();
                        this.pingTimeout = setTimeout(() =&gt; {
                            if (!_.isNull(this.ws)) {
                                this.wasCloseCalled = false;
                                this.log.error("Ping timeout.");
                                this.ws.close();

                                clearInterval(this.pingLoop);
                                clearTimeout(this.pingTimeout);
                            }
                        }, _.get(this.opts.connection.timeout, 9999));
                    }, 60000);

                    // Join all the channels from configuration with a 2 seconds interval..
                    var joinQueue = new timer.queue(2000);
                    var joinChannels = _.union(this.opts.channels, this ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.host" id="apidoc.element.tmi.js.client.prototype.host">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>host
        <span class="apidocSignatureSpan">(channel, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function host(channel, target) {
    channel = _.channel(channel);
    target = _.username(target);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(2000, channel, `/host ${target}`, (resolve, reject) =&gt; {
        // Received _promiseHost event, resolve or reject..
        this.once("_promiseHost", (err, remaining) =&gt; {
            if (!err) { resolve([channel, target, ~~remaining]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.isMod" id="apidoc.element.tmi.js.client.prototype.isMod">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>isMod
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isMod(channel, username) {
    if (!this.moderators[_.channel(channel)]) { this.moderators[_.channel(channel)] = []; }
    if (this.moderators[_.channel(channel)].indexOf(_.username(username)) &gt;= 0) {
        return true;
    }
    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.join" id="apidoc.element.tmi.js.client.prototype.join">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>join
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `JOIN ${channel}`, (resolve, reject) =&gt; {
        // Received _promiseJoin event, resolve or reject..
        this.once("_promiseJoin", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// emote_id:first_index-last_index,another_first-another_last/another_emote_id:first_index-last_index
transformEmotes: function transformEmotes(emotes) {
    var transformed = "";

    Object.keys(emotes).forEach((id) =&gt; {
        transformed = `${transformed+id}:`;
        emotes[id].forEach((index) =&gt; {
            transformed = `${transformed+index.<span class="apidocCodeKeywordSpan">join</span>("-")},`;
        });
        transformed = `${transformed.slice(0,-1)}/`;
    });

    return transformed.slice(0,-1);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.leave" id="apidoc.element.tmi.js.client.prototype.leave">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>leave
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function part(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `PART ${channel}`, (resolve, reject) =&gt; {
        // Received _promisePart event, resolve or reject..
        this.once("_promisePart", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.mod" id="apidoc.element.tmi.js.client.prototype.mod">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>mod
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mod(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/mod ${username}`, (resolve, reject) =&gt; {
        // Received _promiseMod event, resolve or reject..
        this.once("_promiseMod", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.mods" id="apidoc.element.tmi.js.client.prototype.mods">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>mods
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mods(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/mods", (resolve, reject) =&gt; {
        // Received _promiseMods event, resolve or reject..
        this.once("_promiseMods", (err, mods) =&gt; {
            if (!err) {
                // Update the internal list of moderators..
                mods.forEach((username) =&gt; {
                    if (!this.moderators[channel]) { this.moderators[channel] = []; }
                    if (this.moderators[channel].indexOf(username) &lt; 0) { this.moderators[channel].push(username); }
                });
                resolve(mods);
            } else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.part" id="apidoc.element.tmi.js.client.prototype.part">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>part
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function part(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `PART ${channel}`, (resolve, reject) =&gt; {
        // Received _promisePart event, resolve or reject..
        this.once("_promisePart", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.ping" id="apidoc.element.tmi.js.client.prototype.ping">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>ping
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ping() {
    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, "PING", (resolve, reject) =&gt; {
        // Update the internal ping timeout check interval..
        this.latency = new Date();
        this.pingTimeout = setTimeout(() =&gt; {
            if (this.ws !== null) {
                this.wasCloseCalled = false;
                this.log.error("Ping timeout.");
                this.ws.close();

                clearInterval(this.pingLoop);
                clearTimeout(this.pingTimeout);
            }
        }, _.get(this.opts.connection.timeout, 9999));

        // Received _promisePing event, resolve or reject..
        this.once("_promisePing", (latency) =&gt; { resolve([parseFloat(latency)]); });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.r9kbeta" id="apidoc.element.tmi.js.client.prototype.r9kbeta">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kbeta
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbeta(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbeta", (resolve, reject) =&gt; {
        // Received _promiseR9kbeta event, resolve or reject..
        this.once("_promiseR9kbeta", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.r9kbetaoff" id="apidoc.element.tmi.js.client.prototype.r9kbetaoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kbetaoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbetaoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbetaoff", (resolve, reject) =&gt; {
        // Received _promiseR9kbetaoff event, resolve or reject..
        this.once("_promiseR9kbetaoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.r9kmode" id="apidoc.element.tmi.js.client.prototype.r9kmode">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kmode
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbeta(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbeta", (resolve, reject) =&gt; {
        // Received _promiseR9kbeta event, resolve or reject..
        this.once("_promiseR9kbeta", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.r9kmodeoff" id="apidoc.element.tmi.js.client.prototype.r9kmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>r9kmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbetaoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbetaoff", (resolve, reject) =&gt; {
        // Received _promiseR9kbetaoff event, resolve or reject..
        this.once("_promiseR9kbetaoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.raw" id="apidoc.element.tmi.js.client.prototype.raw">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>raw
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function raw(message) {
    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, message, (resolve, reject) =&gt; {
        resolve([message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.readyState" id="apidoc.element.tmi.js.client.prototype.readyState">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>readyState
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readyState() {
    if (_.isNull(this.ws)) { return "CLOSED"; }
    return ["CONNECTING", "OPEN", "CLOSING", "CLOSED"][this.ws.readyState];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.say" id="apidoc.element.tmi.js.client.prototype.say">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>say
        <span class="apidocSignatureSpan">(channel, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function say(channel, message) {
    channel = _.channel(channel);

    if ((message.startsWith(".") &amp;&amp; !message.startsWith("..")) || message.startsWith("/") || message.startsWith("\\")) {
        // Check if the message is an action message..
        if (message.substr(1, 3) === "me ") {
            return this.action(channel, message.substr(4));
        }
        else {
            // Send the command to the server and race the Promise against a delay..
            return this._sendCommand(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
                // At this time, there is no possible way to detect if a message has been sent has been eaten
                // by the server, so we can only resolve the Promise.
                resolve([channel, message]);
            });
        }
    }

    // Send the command to the server and race the Promise against a delay..
    return this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([channel, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.slow" id="apidoc.element.tmi.js.client.prototype.slow">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slow
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slow(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 300);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/slow ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseSlow event, resolve or reject..
        this.once("_promiseSlow", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.slowmode" id="apidoc.element.tmi.js.client.prototype.slowmode">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowmode
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slow(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 300);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/slow ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseSlow event, resolve or reject..
        this.once("_promiseSlow", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.slowmodeoff" id="apidoc.element.tmi.js.client.prototype.slowmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slowoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/slowoff", (resolve, reject) =&gt; {
        // Received _promiseSlowoff event, resolve or reject..
        this.once("_promiseSlowoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.slowoff" id="apidoc.element.tmi.js.client.prototype.slowoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>slowoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slowoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/slowoff", (resolve, reject) =&gt; {
        // Received _promiseSlowoff event, resolve or reject..
        this.once("_promiseSlowoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.subscribers" id="apidoc.element.tmi.js.client.prototype.subscribers">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>subscribers
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function subscribers(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/subscribers", (resolve, reject) =&gt; {
        // Received _promiseSubscribers event, resolve or reject..
        this.once("_promiseSubscribers", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.subscribersoff" id="apidoc.element.tmi.js.client.prototype.subscribersoff">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>subscribersoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function subscribersoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/subscribersoff", (resolve, reject) =&gt; {
        // Received _promiseSubscribersoff event, resolve or reject..
        this.once("_promiseSubscribersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.timeout" id="apidoc.element.tmi.js.client.prototype.timeout">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>timeout
        <span class="apidocSignatureSpan">(channel, username, seconds, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(channel, username, seconds, reason) {
    channel = _.channel(channel);
    username = _.username(username);

    if (!_.isNull(seconds) &amp;&amp; !_.isInteger(seconds)) {
        reason = seconds;
        seconds = 300;
    }

    seconds = _.get(seconds, 300);
    reason = _.get(reason, "");

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/timeout ${username} ${seconds} ${reason}`, (resolve, reject) =&gt; {
        // Received _promiseTimeout event, resolve or reject..
        this.once("_promiseTimeout", (err) =&gt; {
            if (!err) { resolve([channel, username, ~~seconds, reason]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.unban" id="apidoc.element.tmi.js.client.prototype.unban">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unban
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unban(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/unban ${username}`, (resolve, reject) =&gt; {
        // Received _promiseUnban event, resolve or reject..
        this.once("_promiseUnban", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.unhost" id="apidoc.element.tmi.js.client.prototype.unhost">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unhost
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unhost(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(2000, channel, "/unhost", (resolve, reject) =&gt; {
        // Received _promiseUnhost event, resolve or reject..
        this.once("_promiseUnhost", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.unmod" id="apidoc.element.tmi.js.client.prototype.unmod">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>unmod
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unmod(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/unmod ${username}`, (resolve, reject) =&gt; {
        // Received _promiseUnmod event, resolve or reject..
        this.once("_promiseUnmod", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.whisper" id="apidoc.element.tmi.js.client.prototype.whisper">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.</span>whisper
        <span class="apidocSignatureSpan">(username, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whisper(username, message) {
    username = _.username(username);

    // The server will not send a whisper to the account that sent it.
    if (username === this.getUsername()) {
        return Promise.reject("Cannot send a whisper to the same account.");
    }

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), "#tmijs", `/w ${username} ${message}`, (resolve, reject) =&gt; {
        var from = _.channel(username),
            userstate = _.merge({
                    "message-type": "whisper",
                    "message-id": null,
                    "thread-id": null,
                    username: this.getUsername()
                }, this.globaluserstate);

        // Emit for both, whisper and message..
        this.emits(["whisper", "message"], [
            [from, userstate, message, true],
            [from, userstate, message, true]
        ]);

        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([username, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.client.prototype.utils" id="apidoc.module.tmi.js.client.prototype.utils">module tmi.js.client.prototype.utils</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.utils.levenshtein" id="apidoc.element.tmi.js.client.prototype.utils.levenshtein">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>levenshtein
        <span class="apidocSignatureSpan">(s1, s2, caseSensitive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function levenshtein(s1, s2, caseSensitive) {
    var cost_ins = 1;
    var cost_rep = 1;
    var cost_del = 1;
    caseSensitive = _.get(caseSensitive, false);

    if (!caseSensitive) {
        s1 = s1.toLowerCase();
        s2 = s2.toLowerCase();
    }

    if (s1 == s2) { return 0; }

    var l1 = s1.length;
    var l2 = s2.length;

    if (l1 === 0) { return l2 * cost_ins; }
    if (l2 === 0) { return l1 * cost_del; }

    var split = false;
    try {
        split = !("0")[0];
    } catch (e) {
        split = true;
    }
    if (split) {
        s1 = s1.split("");
        s2 = s2.split("");
    }

    var p1 = new Array(l2 + 1);
    var p2 = new Array(l2 + 1);

    var i1, i2, c0, c1, c2, tmp;

    for (i2 = 0; i2 &lt;= l2; i2++) {
        p1[i2] = i2 * cost_ins;
    }

    for (i1 = 0; i1 &lt; l1; i1++) {
        p2[0] = p1[0] + cost_del;

        for (i2 = 0; i2 &lt; l2; i2++) {
            c0 = p1[i2] + ((s1[i1] == s2[i2]) ? 0 : cost_rep);
            c1 = p1[i2 + 1] + cost_del;

            if (c1 &lt; c0) {
                c0 = c1;
            }

            c2 = p2[i2] + cost_ins;

            if (c2 &lt; c0) {
                c0 = c2;
            }

            p2[i2 + 1] = c0;
        }

        tmp = p1;
        p1 = p2;
        p2 = tmp;
    }

    c0 = p1[l2];

    return c0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.utils.symbols" id="apidoc.element.tmi.js.client.prototype.utils.symbols">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>symbols
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function symbols(line) {
    var count = 0;
    for (var i = 0; i &lt; line.length; i++) {
        var charCode = line.substring(i, i+1).charCodeAt(0);
        if ((charCode &lt;= 30 || charCode &gt;= 127) || charCode === 65533) {
            count++;
        }
    }
    return Math.ceil((count / line.length) * 100) / 100;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.prototype.utils.uppercase" id="apidoc.element.tmi.js.client.prototype.utils.uppercase">
        function <span class="apidocSignatureSpan">tmi.js.client.prototype.utils.</span>uppercase
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function uppercase(line) {
    var chars = line.length;
    var u_let = line.match(/[A-Z]/g);
    if (!_.isNull(u_let)) {
        return (u_let.length / chars);
    }
    return 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.client.super_" id="apidoc.module.tmi.js.client.super_">module tmi.js.client.super_</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.super_" id="apidoc.element.tmi.js.client.super_.super_">
        function <span class="apidocSignatureSpan">tmi.js.client.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
    this._events = this._events || {};
    this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.EventEmitter" id="apidoc.element.tmi.js.client.super_.EventEmitter">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.</span>EventEmitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
    this._events = this._events || {};
    this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.listenerCount" id="apidoc.element.tmi.js.client.super_.listenerCount">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.</span>listenerCount
        <span class="apidocSignatureSpan">(emitter, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function (emitter, type) {
    return emitter.listenerCount(type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.client.super_.prototype" id="apidoc.module.tmi.js.client.super_.prototype">module tmi.js.client.super_.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.addListener" id="apidoc.element.tmi.js.client.super_.prototype.addListener">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>addListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addListener = function (type, listener) {
    var m;

    if (!isFunction(listener)) { throw TypeError("listener must be a function"); }

    if (!this._events) { this._events = {}; }

    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (this._events.newListener) {
        this.emit("newListener", type, isFunction(listener.listener) ? listener.listener : listener);
    }

    // Optimize the case of one listener. Don't need the extra array object.
    if (!this._events[type]) { this._events[type] = listener; }
    // If we've already got an array, just append.
    else if (isObject(this._events[type])) { this._events[type].push(listener); }
    // Adding the second element, need to change to array.
    else { this._events[type] = [this._events[type], listener]; }

    // Check for listener leak
    if (isObject(this._events[type]) &amp;&amp; !this._events[type].warned) {
        if (!isUndefined(this._maxListeners)) {
            m = this._maxListeners;
        } else {
            m = EventEmitter.defaultMaxListeners;
        }

        if (m &amp;&amp; m &gt; 0 &amp;&amp; this._events[type].length &gt; m) {
            this._events[type].warned = true;
            console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners
() to increase limit.", this._events[type].length);
            // Not supported in IE 10
            if (typeof console.trace === "function") {
                console.trace();
            }
        }
    }

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.emit" id="apidoc.element.tmi.js.client.super_.prototype.emit">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>emit
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function (type) {
    var er, handler, len, args, i, listeners;

    if (!this._events) { this._events = {}; }

    // If there is no 'error' event listener then throw.
    if (type === "error") {
        if (!this._events.error || (isObject(this._events.error) &amp;&amp; !this._events.error.length)) {
            er = arguments[1];
            if (er instanceof Error) { throw er; }
            throw TypeError("Uncaught, unspecified \"error\" event.");
        }
    }

    handler = this._events[type];

    if (isUndefined(handler)) { return false; }

    if (isFunction(handler)) {
        switch (arguments.length) {
            // fast cases
            case 1:
                handler.call(this);
                break;
            case 2:
                handler.call(this, arguments[1]);
                break;
            case 3:
                handler.call(this, arguments[1], arguments[2]);
                break;
                // slower
            default:
                args = Array.prototype.slice.call(arguments, 1);
                handler.apply(this, args);
        }
    } else if (isObject(handler)) {
        args = Array.prototype.slice.call(arguments, 1);
        listeners = handler.slice();
        len = listeners.length;
        for (i = 0; i &lt; len; i++) { listeners[i].apply(this, args); }
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.emits" id="apidoc.element.tmi.js.client.super_.prototype.emits">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>emits
        <span class="apidocSignatureSpan">(types, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emits = function (types, values) {
    for (var i = 0; i &lt; types.length; i++) {
        values[i].unshift(types[i]);
        this.emit.apply(this, values[i]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            "message-type": "whisper",
            "message-id": null,
            "thread-id": null,
            username: this.getUsername()
        }, this.globaluserstate);

// Emit for both, whisper and message..
this.<span class="apidocCodeKeywordSpan">emits</span>(["whisper", "message"], [
    [from, userstate, message, true],
    [from, userstate, message, true]
]);

// At this time, there is no possible way to detect if a message has been sent has been eaten
// by the server, so we can only resolve the Promise.
resolve([username, message]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.listenerCount" id="apidoc.element.tmi.js.client.super_.prototype.listenerCount">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>listenerCount
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function (type) {
    if (this._events) {
        var evlistener = this._events[type];

        if (isFunction(evlistener)) { return 1; }
        else if (evlistener) { return evlistener.length; }
    }
    return 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.listeners" id="apidoc.element.tmi.js.client.super_.prototype.listeners">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>listeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listeners = function (type) {
    var ret;
    if (!this._events || !this._events[type]) { ret = []; }
    else if (isFunction(this._events[type])) { ret = [this._events[type]]; }
    else { ret = this._events[type].slice(); }
    return ret;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.on" id="apidoc.element.tmi.js.client.super_.prototype.on">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>on
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (type, listener) {
    var m;

    if (!isFunction(listener)) { throw TypeError("listener must be a function"); }

    if (!this._events) { this._events = {}; }

    // To avoid recursion in the case that type === "newListener"! Before
    // adding it to the listeners, first emit "newListener".
    if (this._events.newListener) {
        this.emit("newListener", type, isFunction(listener.listener) ? listener.listener : listener);
    }

    // Optimize the case of one listener. Don't need the extra array object.
    if (!this._events[type]) { this._events[type] = listener; }
    // If we've already got an array, just append.
    else if (isObject(this._events[type])) { this._events[type].push(listener); }
    // Adding the second element, need to change to array.
    else { this._events[type] = [this._events[type], listener]; }

    // Check for listener leak
    if (isObject(this._events[type]) &amp;&amp; !this._events[type].warned) {
        if (!isUndefined(this._maxListeners)) {
            m = this._maxListeners;
        } else {
            m = EventEmitter.defaultMaxListeners;
        }

        if (m &amp;&amp; m &gt; 0 &amp;&amp; this._events[type].length &gt; m) {
            this._events[type].warned = true;
            console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners
() to increase limit.", this._events[type].length);
            // Not supported in IE 10
            if (typeof console.trace === "function") {
                console.trace();
            }
        }
    }

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.once" id="apidoc.element.tmi.js.client.super_.prototype.once">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>once
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (type, listener) {
    if (!isFunction(listener)) { throw TypeError("listener must be a function"); }

    var fired = false;

    if (this._events.hasOwnProperty(type) &amp;&amp; type.charAt(0) === "_") {
        var count = 1;
        var searchFor = type;

        for (var k in this._events){
            if (this._events.hasOwnProperty(k) &amp;&amp; k.startsWith(searchFor)) {
                count++;
            }
        }
        type = type + count;
    }

    function g() {
        if (type.charAt(0) === "_" &amp;&amp; !isNaN(type.substr(type.length - 1))) {
            type = type.substring(0, type.length - 1);
        }
        this.removeListener(type, g);

        if (!fired) {
            fired = true;
            listener.apply(this, arguments);
        }
    }

    g.listener = listener;
    this.on(type, g);

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.<span class="apidocCodeKeywordSpan">once</span>("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}

// Disable followers-only mode on a channel..
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.removeAllListeners" id="apidoc.element.tmi.js.client.super_.prototype.removeAllListeners">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>removeAllListeners
        <span class="apidocSignatureSpan">(type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (type) {
    var key, listeners;

    if (!this._events) { return this; }

    // not listening for removeListener, no need to emit
    if (!this._events.removeListener) {
        if (arguments.length === 0) { this._events = {}; }
        else if (this._events[type]) { delete this._events[type]; }
        return this;
    }

    // emit removeListener for all listeners on all events
    if (arguments.length === 0) {
        for (key in this._events) {
            if (key === "removeListener") { continue; }
            this.removeAllListeners(key);
        }
        this.removeAllListeners("removeListener");
        this._events = {};
        return this;
    }

    listeners = this._events[type];

    if (isFunction(listeners)) { this.removeListener(type, listeners); }
    else if (listeners) { while (listeners.length) { this.removeListener(type, listeners[listeners.length - 1]); } }
    delete this._events[type];

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.removeListener" id="apidoc.element.tmi.js.client.super_.prototype.removeListener">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>removeListener
        <span class="apidocSignatureSpan">(type, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeListener = function (type, listener) {
    var list, position, length, i;

    if (!isFunction(listener)) { throw TypeError("listener must be a function"); }

    if (!this._events || !this._events[type]) { return this; }

    list = this._events[type];
    length = list.length;
    position = -1;
    if (list === listener || (isFunction(list.listener) &amp;&amp; list.listener === listener)) {
        delete this._events[type];

        if (this._events.hasOwnProperty(type + "2") &amp;&amp; type.charAt(0) === "_") {
            var searchFor = type;
            for (var k in this._events){
                if (this._events.hasOwnProperty(k) &amp;&amp; k.startsWith(searchFor)) {
                    if (!isNaN(parseInt(k.substr(k.length - 1)))) {
                        this._events[type + parseInt(k.substr(k.length - 1) - 1)] = this._events[k];
                        delete this._events[k];
                    }
                }
            }

            this._events[type] = this._events[type + "1"];
            delete this._events[type + "1"];
        }
        if (this._events.removeListener) { this.emit("removeListener", type, listener); }
    }
    else if (isObject(list)) {
        for (i = length; i-- &gt; 0;) {
            if (list[i] === listener ||
                (list[i].listener &amp;&amp; list[i].listener === listener)) {
                position = i;
                break;
            }
        }

        if (position &lt; 0) { return this; }

        if (list.length === 1) {
            list.length = 0;
            delete this._events[type];
        }
        else { list.splice(position, 1); }

        if (this._events.removeListener) { this.emit("removeListener", type, listener); }
    }

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.client.super_.prototype.setMaxListeners" id="apidoc.element.tmi.js.client.super_.prototype.setMaxListeners">
        function <span class="apidocSignatureSpan">tmi.js.client.super_.prototype.</span>setMaxListeners
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMaxListeners = function (n) {
    if (!isNumber(n) || n &lt; 0 || isNaN(n)) {
        throw TypeError("n must be a positive number");
    }

    this._maxListeners = n;

    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.commands" id="apidoc.module.tmi.js.commands">module tmi.js.commands</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.commands.action" id="apidoc.element.tmi.js.commands.action">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>action
        <span class="apidocSignatureSpan">(channel, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function action(channel, message) {
    channel = _.channel(channel);
    message = `\u0001ACTION ${message}\u0001`;

    // Send the command to the server and race the Promise against a delay..
    return this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([channel, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // Send a message on a channel..
    say: function say(channel, message) {
channel = _.channel(channel);

if ((message.startsWith(".") &amp;&amp; !message.startsWith("..")) || message.startsWith("/") ||
message.startsWith("\\")) {
    // Check if the message is an action message..
    if (message.substr(1, 3) === "me ") {
        return this.<span class="apidocCodeKeywordSpan">action</span>(channel, message.substr(4));
    }
    else {
        // Send the command to the server and race the Promise against a delay..
        return this._sendCommand(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
            // At this time, there is no possible way to detect if a message has been sent has been eaten
            // by the server, so we can only resolve the Promise.
            resolve([channel, message]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.ban" id="apidoc.element.tmi.js.commands.ban">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>ban
        <span class="apidocSignatureSpan">(channel, username, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ban(channel, username, reason) {
    channel = _.channel(channel);
    username = _.username(username);
    reason = _.get(reason, "");

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/ban ${username} ${reason}`, (resolve, reject) =&gt; {
        // Received _promiseBan event, resolve or reject..
        this.once("_promiseBan", (err) =&gt; {
            if (!err) { resolve([channel, username, reason]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.clear" id="apidoc.element.tmi.js.commands.clear">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>clear
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clear(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/clear", (resolve, reject) =&gt; {
        // Received _promiseClear event, resolve or reject..
        this.once("_promiseClear", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.color" id="apidoc.element.tmi.js.commands.color">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>color
        <span class="apidocSignatureSpan">(channel, newColor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function color(channel, newColor) {
    newColor = _.get(newColor, channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), "#tmijs", `/color ${newColor}`, (resolve, reject) =&gt; {
        // Received _promiseColor event, resolve or reject..
        this.once("_promiseColor", (err) =&gt; {
            if (!err) { resolve([newColor]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.commercial" id="apidoc.element.tmi.js.commands.commercial">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>commercial
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function commercial(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/commercial ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseCommercial event, resolve or reject..
        this.once("_promiseCommercial", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.emoteonly" id="apidoc.element.tmi.js.commands.emoteonly">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>emoteonly
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteonly(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/emoteonly", (resolve, reject) =&gt; {
        // Received _promiseEmoteonly event, resolve or reject..
        this.once("_promiseEmoteonly", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.emoteonlyoff" id="apidoc.element.tmi.js.commands.emoteonlyoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>emoteonlyoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/emoteonlyoff", (resolve, reject) =&gt; {
        // Received _promiseEmoteonlyoff event, resolve or reject..
        this.once("_promiseEmoteonlyoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.followersmode" id="apidoc.element.tmi.js.commands.followersmode">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersmode
        <span class="apidocSignatureSpan">(channel, minutes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.followersmodeoff" id="apidoc.element.tmi.js.commands.followersmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/followersoff", (resolve, reject) =&gt; {
        // Received _promiseFollowersoff event, resolve or reject..
        this.once("_promiseFollowersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.followersonly" id="apidoc.element.tmi.js.commands.followersonly">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersonly
        <span class="apidocSignatureSpan">(channel, minutes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonly(channel, minutes) {
    channel = _.channel(channel);
    minutes = _.get(minutes, 30);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
        // Received _promiseFollowers event, resolve or reject..
        this.once("_promiseFollowers", (err) =&gt; {
            if (!err) { resolve([channel, ~~minutes]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.followersonlyoff" id="apidoc.element.tmi.js.commands.followersonlyoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>followersonlyoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function followersonlyoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/followersoff", (resolve, reject) =&gt; {
        // Received _promiseFollowersoff event, resolve or reject..
        this.once("_promiseFollowersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.host" id="apidoc.element.tmi.js.commands.host">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>host
        <span class="apidocSignatureSpan">(channel, target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function host(channel, target) {
    channel = _.channel(channel);
    target = _.username(target);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(2000, channel, `/host ${target}`, (resolve, reject) =&gt; {
        // Received _promiseHost event, resolve or reject..
        this.once("_promiseHost", (err, remaining) =&gt; {
            if (!err) { resolve([channel, target, ~~remaining]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.join" id="apidoc.element.tmi.js.commands.join">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>join
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function join(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `JOIN ${channel}`, (resolve, reject) =&gt; {
        // Received _promiseJoin event, resolve or reject..
        this.once("_promiseJoin", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// emote_id:first_index-last_index,another_first-another_last/another_emote_id:first_index-last_index
transformEmotes: function transformEmotes(emotes) {
    var transformed = "";

    Object.keys(emotes).forEach((id) =&gt; {
        transformed = `${transformed+id}:`;
        emotes[id].forEach((index) =&gt; {
            transformed = `${transformed+index.<span class="apidocCodeKeywordSpan">join</span>("-")},`;
        });
        transformed = `${transformed.slice(0,-1)}/`;
    });

    return transformed.slice(0,-1);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.leave" id="apidoc.element.tmi.js.commands.leave">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>leave
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function part(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `PART ${channel}`, (resolve, reject) =&gt; {
        // Received _promisePart event, resolve or reject..
        this.once("_promisePart", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.mod" id="apidoc.element.tmi.js.commands.mod">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>mod
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mod(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/mod ${username}`, (resolve, reject) =&gt; {
        // Received _promiseMod event, resolve or reject..
        this.once("_promiseMod", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.mods" id="apidoc.element.tmi.js.commands.mods">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>mods
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mods(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/mods", (resolve, reject) =&gt; {
        // Received _promiseMods event, resolve or reject..
        this.once("_promiseMods", (err, mods) =&gt; {
            if (!err) {
                // Update the internal list of moderators..
                mods.forEach((username) =&gt; {
                    if (!this.moderators[channel]) { this.moderators[channel] = []; }
                    if (this.moderators[channel].indexOf(username) &lt; 0) { this.moderators[channel].push(username); }
                });
                resolve(mods);
            } else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.part" id="apidoc.element.tmi.js.commands.part">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>part
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function part(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, `PART ${channel}`, (resolve, reject) =&gt; {
        // Received _promisePart event, resolve or reject..
        this.once("_promisePart", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.ping" id="apidoc.element.tmi.js.commands.ping">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>ping
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ping() {
    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, "PING", (resolve, reject) =&gt; {
        // Update the internal ping timeout check interval..
        this.latency = new Date();
        this.pingTimeout = setTimeout(() =&gt; {
            if (this.ws !== null) {
                this.wasCloseCalled = false;
                this.log.error("Ping timeout.");
                this.ws.close();

                clearInterval(this.pingLoop);
                clearTimeout(this.pingTimeout);
            }
        }, _.get(this.opts.connection.timeout, 9999));

        // Received _promisePing event, resolve or reject..
        this.once("_promisePing", (latency) =&gt; { resolve([parseFloat(latency)]); });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.r9kbeta" id="apidoc.element.tmi.js.commands.r9kbeta">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kbeta
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbeta(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbeta", (resolve, reject) =&gt; {
        // Received _promiseR9kbeta event, resolve or reject..
        this.once("_promiseR9kbeta", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.r9kbetaoff" id="apidoc.element.tmi.js.commands.r9kbetaoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kbetaoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbetaoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbetaoff", (resolve, reject) =&gt; {
        // Received _promiseR9kbetaoff event, resolve or reject..
        this.once("_promiseR9kbetaoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.r9kmode" id="apidoc.element.tmi.js.commands.r9kmode">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kmode
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbeta(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbeta", (resolve, reject) =&gt; {
        // Received _promiseR9kbeta event, resolve or reject..
        this.once("_promiseR9kbeta", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.r9kmodeoff" id="apidoc.element.tmi.js.commands.r9kmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>r9kmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function r9kbetaoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/r9kbetaoff", (resolve, reject) =&gt; {
        // Received _promiseR9kbetaoff event, resolve or reject..
        this.once("_promiseR9kbetaoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.raw" id="apidoc.element.tmi.js.commands.raw">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>raw
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function raw(message) {
    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), null, message, (resolve, reject) =&gt; {
        resolve([message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.say" id="apidoc.element.tmi.js.commands.say">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>say
        <span class="apidocSignatureSpan">(channel, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function say(channel, message) {
    channel = _.channel(channel);

    if ((message.startsWith(".") &amp;&amp; !message.startsWith("..")) || message.startsWith("/") || message.startsWith("\\")) {
        // Check if the message is an action message..
        if (message.substr(1, 3) === "me ") {
            return this.action(channel, message.substr(4));
        }
        else {
            // Send the command to the server and race the Promise against a delay..
            return this._sendCommand(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
                // At this time, there is no possible way to detect if a message has been sent has been eaten
                // by the server, so we can only resolve the Promise.
                resolve([channel, message]);
            });
        }
    }

    // Send the command to the server and race the Promise against a delay..
    return this._sendMessage(this._getPromiseDelay(), channel, message, (resolve, reject) =&gt; {
        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([channel, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.slow" id="apidoc.element.tmi.js.commands.slow">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>slow
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slow(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 300);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/slow ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseSlow event, resolve or reject..
        this.once("_promiseSlow", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.slowmode" id="apidoc.element.tmi.js.commands.slowmode">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowmode
        <span class="apidocSignatureSpan">(channel, seconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slow(channel, seconds) {
    channel = _.channel(channel);
    seconds = _.get(seconds, 300);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/slow ${seconds}`, (resolve, reject) =&gt; {
        // Received _promiseSlow event, resolve or reject..
        this.once("_promiseSlow", (err) =&gt; {
            if (!err) { resolve([channel, ~~seconds]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.slowmodeoff" id="apidoc.element.tmi.js.commands.slowmodeoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowmodeoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slowoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/slowoff", (resolve, reject) =&gt; {
        // Received _promiseSlowoff event, resolve or reject..
        this.once("_promiseSlowoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.slowoff" id="apidoc.element.tmi.js.commands.slowoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>slowoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function slowoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/slowoff", (resolve, reject) =&gt; {
        // Received _promiseSlowoff event, resolve or reject..
        this.once("_promiseSlowoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.subscribers" id="apidoc.element.tmi.js.commands.subscribers">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>subscribers
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function subscribers(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/subscribers", (resolve, reject) =&gt; {
        // Received _promiseSubscribers event, resolve or reject..
        this.once("_promiseSubscribers", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.subscribersoff" id="apidoc.element.tmi.js.commands.subscribersoff">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>subscribersoff
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function subscribersoff(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, "/subscribersoff", (resolve, reject) =&gt; {
        // Received _promiseSubscribersoff event, resolve or reject..
        this.once("_promiseSubscribersoff", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.timeout" id="apidoc.element.tmi.js.commands.timeout">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>timeout
        <span class="apidocSignatureSpan">(channel, username, seconds, reason)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function timeout(channel, username, seconds, reason) {
    channel = _.channel(channel);
    username = _.username(username);

    if (!_.isNull(seconds) &amp;&amp; !_.isInteger(seconds)) {
        reason = seconds;
        seconds = 300;
    }

    seconds = _.get(seconds, 300);
    reason = _.get(reason, "");

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/timeout ${username} ${seconds} ${reason}`, (resolve, reject) =&gt; {
        // Received _promiseTimeout event, resolve or reject..
        this.once("_promiseTimeout", (err) =&gt; {
            if (!err) { resolve([channel, username, ~~seconds, reason]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.unban" id="apidoc.element.tmi.js.commands.unban">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>unban
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unban(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/unban ${username}`, (resolve, reject) =&gt; {
        // Received _promiseUnban event, resolve or reject..
        this.once("_promiseUnban", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.unhost" id="apidoc.element.tmi.js.commands.unhost">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>unhost
        <span class="apidocSignatureSpan">(channel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unhost(channel) {
    channel = _.channel(channel);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(2000, channel, "/unhost", (resolve, reject) =&gt; {
        // Received _promiseUnhost event, resolve or reject..
        this.once("_promiseUnhost", (err) =&gt; {
            if (!err) { resolve([channel]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.unmod" id="apidoc.element.tmi.js.commands.unmod">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>unmod
        <span class="apidocSignatureSpan">(channel, username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function unmod(channel, username) {
    channel = _.channel(channel);
    username = _.username(username);

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), channel, `/unmod ${username}`, (resolve, reject) =&gt; {
        // Received _promiseUnmod event, resolve or reject..
        this.once("_promiseUnmod", (err) =&gt; {
            if (!err) { resolve([channel, username]); }
            else { reject(err); }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.commands.whisper" id="apidoc.element.tmi.js.commands.whisper">
        function <span class="apidocSignatureSpan">tmi.js.commands.</span>whisper
        <span class="apidocSignatureSpan">(username, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function whisper(username, message) {
    username = _.username(username);

    // The server will not send a whisper to the account that sent it.
    if (username === this.getUsername()) {
        return Promise.reject("Cannot send a whisper to the same account.");
    }

    // Send the command to the server and race the Promise against a delay..
    return this._sendCommand(this._getPromiseDelay(), "#tmijs", `/w ${username} ${message}`, (resolve, reject) =&gt; {
        var from = _.channel(username),
            userstate = _.merge({
                    "message-type": "whisper",
                    "message-id": null,
                    "thread-id": null,
                    username: this.getUsername()
                }, this.globaluserstate);

        // Emit for both, whisper and message..
        this.emits(["whisper", "message"], [
            [from, userstate, message, true],
            [from, userstate, message, true]
        ]);

        // At this time, there is no possible way to detect if a message has been sent has been eaten
        // by the server, so we can only resolve the Promise.
        resolve([username, message]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.logger" id="apidoc.module.tmi.js.logger">module tmi.js.logger</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.logger.debug" id="apidoc.element.tmi.js.logger.debug">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>debug
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.error" id="apidoc.element.tmi.js.logger.error">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>error
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        // Send the command to the server and race the Promise against a delay..
        return this._sendCommand(this._getPromiseDelay(), null, "PING", (resolve, reject) =&gt; {
// Update the internal ping timeout check interval..
this.latency = new Date();
this.pingTimeout = setTimeout(() =&gt; {
    if (this.ws !== null) {
        this.wasCloseCalled = false;
        this.log.<span class="apidocCodeKeywordSpan">error</span>("Ping timeout.");
        this.ws.close();

        clearInterval(this.pingLoop);
        clearTimeout(this.pingTimeout);
    }
}, _.get(this.opts.connection.timeout, 9999));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.fatal" id="apidoc.element.tmi.js.logger.fatal">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>fatal
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.info" id="apidoc.element.tmi.js.logger.info">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>info
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.setLevel" id="apidoc.element.tmi.js.logger.setLevel">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>setLevel
        <span class="apidocSignatureSpan">(level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setLevel = function (level) {
    currentLevel = level;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.trace" id="apidoc.element.tmi.js.logger.trace">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>trace
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trace = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.logger.warn" id="apidoc.element.tmi.js.logger.warn">
        function <span class="apidocSignatureSpan">tmi.js.logger.</span>warn
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.formatDate(new Date())}] ${level}: ${message}`);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.parser" id="apidoc.module.tmi.js.parser">module tmi.js.parser</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.parser.badges" id="apidoc.element.tmi.js.parser.badges">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>badges
        <span class="apidocSignatureSpan">(tags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function badges(tags) {
    if (_.isString(tags["badges"])) {
        var badges = {};
        var explode = tags["badges"].split(",");

        for (var i = 0; i &lt; explode.length; i++) {
            var parts = explode[i].split("/");
            if (!parts[1]) return;
            badges[parts[0]] = parts[1];
        }

        tags["badges-raw"] = tags["badges"];
        tags["badges"] = badges;
    }
    if (_.isBoolean(tags["badges"])) { tags["badges-raw"] = null; }

    return tags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.parser.emoteRegex" id="apidoc.element.tmi.js.parser.emoteRegex">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>emoteRegex
        <span class="apidocSignatureSpan">(msg, code, id, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteRegex(msg, code, id, obj) {
    var space = /\S+/g;
    var regex = new RegExp("(\\b|^|\s)"+_.unescapeHtml(code)+"(\\b|$|\s)");
    var match;

    // Check if emote code matches using RegExp and push it to the object..
    while ((match = space.exec(msg)) !== null) {
        if (regex.test(match[0])) {
            obj[id] = obj[id] || [];
            obj[id].push([match.index, space.lastIndex - 1])
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.parser.emoteString" id="apidoc.element.tmi.js.parser.emoteString">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>emoteString
        <span class="apidocSignatureSpan">(msg, code, id, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emoteString(msg, code, id, obj) {
    var space = /\S+/g;
    var match;

    // Check if emote code matches and push it to the object..
    while ((match = space.exec(msg)) !== null) {
        if (match[0] === _.unescapeHtml(code)) {
            obj[id] = obj[id] || [];
            obj[id].push([match.index, space.lastIndex - 1]);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.parser.emotes" id="apidoc.element.tmi.js.parser.emotes">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>emotes
        <span class="apidocSignatureSpan">(tags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function emotes(tags) {
    if (_.isString(tags["emotes"])) {
        var emoticons = tags["emotes"].split("/");
        var emotes = {};

        for (var i = 0; i &lt; emoticons.length; i++) {
            var parts = emoticons[i].split(":");
            if (!parts[1]) return;
            emotes[parts[0]] = parts[1].split(",");
        }

        tags["emotes-raw"] = tags["emotes"];
        tags["emotes"] = emotes;
    }
    if (_.isBoolean(tags["emotes"])) { tags["emotes-raw"] = null; }

    return tags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.parser.msg" id="apidoc.element.tmi.js.parser.msg">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>msg
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function msg(data) {
    var message = {
        raw: data,
        tags: {},
        prefix: null,
        command: null,
        params: []
    }

    // Position and nextspace are used by the parser as a reference..
    var position = 0;
    var nextspace = 0;

    // The first thing we check for is IRCv3.2 message tags.
    // http://ircv3.atheme.org/specification/message-tags-3.2
    if (data.charCodeAt(0) === 64) {
        var nextspace = data.indexOf(" ");

        // Malformed IRC message..
        if (nextspace === -1) {
            return null;
        }

        // Tags are split by a semi colon..
        var rawTags = data.slice(1, nextspace).split(";");

        for (var i = 0; i &lt; rawTags.length; i++) {
            // Tags delimited by an equals sign are key=value tags.
            // If there's no equals, we assign the tag a value of true.
            var tag = rawTags[i];
            var pair = tag.split("=");
            message.tags[pair[0]] = tag.substring(tag.indexOf("=") + 1) || true;
        }

        position = nextspace + 1;
    }

    // Skip any trailing whitespace..
    while (data.charCodeAt(position) === 32) {
        position++;
    }

    // Extract the message's prefix if present. Prefixes are prepended with a colon..
    if (data.charCodeAt(position) === 58) {
        nextspace = data.indexOf(" ", position);

        // If there's nothing after the prefix, deem this message to be malformed.
        if (nextspace === -1) {
            return null;
        }

        message.prefix = data.slice(position + 1, nextspace);
        position = nextspace + 1;

        // Skip any trailing whitespace..
        while (data.charCodeAt(position) === 32) {
            position++;
        }
    }

    nextspace = data.indexOf(" ", position);

    // If there's no more whitespace left, extract everything from the
    // current position to the end of the string as the command..
    if (nextspace === -1) {
        if (data.length &gt; position) {
            message.command = data.slice(position);
            return message;
        }

        return null;
    }

    // Else, the command is the current position up to the next space. After
    // that, we expect some parameters.
    message.command = data.slice(position, nextspace);

    position = nextspace + 1;

    // Skip any trailing whitespace..
    while (data.charCodeAt(position) === 32) {
        position++;
    }

    while (position &lt; data.length) {
        nextspace = data.indexOf(" ", position);

        // If the character is a colon, we've got a trailing parameter.
        // At this point, there are no extra params, so we push everything
        // from after the colon to the end of the string, to the params array
        // and break out of the loop.
        if (data.charCodeAt(position) === 58) {
            message.params.push(data.slice(position + 1));
            break;
        }

        // If we still have some whitespace...
        if (nextspace !== -1) {
            // Push whatever's between the current position and the next
            // space to the params array.
            message.params.push(data.slice(position, nextspace));
            position = nextspace + 1;

            // Skip any trailing whitespace and continue looping.
            while (data.charCodeAt(position) === 32) {
                position++;
            }

            continue;
        }

        // If we don't have any more whitespace and the param isn't trailing,
        // push everything remaining to the params array.
        if (nextspace === -1) {
            message.params.push(data.slice(position));
            break;
        }
    }

    return message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.parser.transformEmotes" id="apidoc.element.tmi.js.parser.transformEmotes">
        function <span class="apidocSignatureSpan">tmi.js.parser.</span>transformEmotes
        <span class="apidocSignatureSpan">(emotes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function transformEmotes(emotes) {
    var transformed = "";

    Object.keys(emotes).forEach((id) =&gt; {
        transformed = `${transformed+id}:`;
        emotes[id].forEach((index) =&gt; {
            transformed = `${transformed+index.join("-")},`;
        });
        transformed = `${transformed.slice(0,-1)}/`;
    });

    return transformed.slice(0,-1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.timer" id="apidoc.module.tmi.js.timer">module tmi.js.timer</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.timer.queue" id="apidoc.element.tmi.js.timer.queue">
        function <span class="apidocSignatureSpan">tmi.js.timer.</span>queue
        <span class="apidocSignatureSpan">(defaultDelay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function queue(defaultDelay) {
    this.queue = [];
    this.index = 0;
    this.defaultDelay = defaultDelay || 3000;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.tmi.js.utils" id="apidoc.module.tmi.js.utils">module tmi.js.utils</a></h1>


    <h2>
        <a href="#apidoc.element.tmi.js.utils.addWord" id="apidoc.element.tmi.js.utils.addWord">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>addWord
        <span class="apidocSignatureSpan">(line, word)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(line, word) =&gt; {
		if (line.length != 0) { line += " "; }
		return (line += word);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.channel" id="apidoc.element.tmi.js.utils.channel">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>channel
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; {
		var channel = typeof str === "undefined" || str === null ? "" : str;
		return channel.charAt(0) === "#" ? channel.toLowerCase() : "#" + channel.toLowerCase();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...



var _ = require("./utils");

// Enable followers-only mode on a channel..
function followersonly(channel, minutes) {
channel = _.<span class="apidocCodeKeywordSpan">channel</span>(channel);
minutes = _.get(minutes, 30);

// Send the command to the server and race the Promise against a delay..
return this._sendCommand(this._getPromiseDelay(), channel, `/followers ${minutes}`, (resolve, reject) =&gt; {
    // Received _promiseFollowers event, resolve or reject..
    this.once("_promiseFollowers", (err) =&gt; {
        if (!err) { resolve([channel, ~~minutes]); }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.extractNumber" id="apidoc.element.tmi.js.utils.extractNumber">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>extractNumber
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; {
		var parts = str.split(" ");
		for (var i = 0; i &lt; parts.length; i++) {
			if (self.isInteger(parts[i])) { return ~~parts[i]; }
		}
		return 0;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.formatDate" id="apidoc.element.tmi.js.utils.formatDate">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>formatDate
        <span class="apidocSignatureSpan">(date)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(date) =&gt; {
	    var hours = date.getHours();
	    var mins  = date.getMinutes();

	    hours = (hours &lt; 10 ? "0" : "") + hours;
	    mins = (mins &lt; 10 ? "0" : "") + mins;

	    return `${hours}:${mins}`;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var levels = { "trace": 0, "debug": 1, "info": 2, "warn": 3, "error": 4, "
;fatal": 5 }

// Logger implementation..
function log(level) {
// Return a console message depending on the logging level..
return function (message) {
    if (levels[level] &gt;= levels[currentLevel]) {
        console.log(`[${_.<span class="apidocCodeKeywordSpan">formatDate</span>(new Date())}] ${level}: ${message}`);
    }
}
}

module.exports = {
// Change the current logging level..
setLevel: function(level) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.get" id="apidoc.element.tmi.js.utils.get">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>get
        <span class="apidocSignatureSpan">(obj1, obj2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(obj1, obj2) =&gt; { return typeof obj1 === "undefined" ? obj2 : obj1; }</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var request = require("request");
var _ = require("./utils");

var api = function api(options, callback) {
// Set the url to options.uri or options.url..
var url = _.<span class="apidocCodeKeywordSpan">get</span>(options.url, null) === null ? _.get(options.uri, null) : _.get(options
.url, null);

// Make sure it is a valid url..
if (!_.isURL(url)) { url = url.charAt(0) === "/" ? `https://api.twitch.tv/kraken${url}` : `https://api.twitch.tv/kraken
/${url}`; }

// We are inside a Node application, so we can use the request module..
if (_.isNode()) {
    request(_.merge(options, { url: url, method: "GET", json: true }), function (err, res, body) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.inherits" id="apidoc.element.tmi.js.utils.inherits">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>inherits
        <span class="apidocSignatureSpan">(ctor, superCtor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(ctor, superCtor) =&gt; {
		ctor.super_ = superCtor
	    var TempCtor = function () {};
	    TempCtor.prototype = superCtor.prototype;
	    ctor.prototype = new TempCtor();
	    ctor.prototype.constructor = ctor;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isBoolean" id="apidoc.element.tmi.js.utils.isBoolean">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isBoolean
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(obj) =&gt; { return typeof(obj) === "boolean"; }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            if (!parts[1]) return;
            badges[parts[0]] = parts[1];
        }

        tags["badges-raw"] = tags["badges"];
        tags["badges"] = badges;
    }
    if (_.<span class="apidocCodeKeywordSpan">isBoolean</span>(tags["badges"])) { tags["badges-raw"] = null; }

    return tags;
},

// Parse Twitch emotes..
emotes: function emotes(tags) {
    if (_.isString(tags["emotes"])) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isExtension" id="apidoc.element.tmi.js.utils.isExtension">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isExtension
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">() =&gt; {
		try {
			if (window.chrome &amp;&amp; chrome.runtime &amp;&amp; chrome.runtime.id) { return true; }
			return false;
		} catch(e) {
			return false;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// We are inside a Node application, so we can use the request module..
if (_.isNode()) {
    request(_.merge(options, { url: url, method: "GET", json: true }), function (err, res, body) {
        callback(err, res, body);
    });
}
// Inside an extension -&gt; we cannot use jsonp!
else if (_.<span class="apidocCodeKeywordSpan">isExtension</span>()) {
  options = _.merge(options, { url: url, method: "GET", headers: {} })
  // prepare request
  var xhr = new XMLHttpRequest();
  xhr.open(options.method, options.url, true);
  for(var name in options.headers) {
    xhr.setRequestHeader(name, options.headers[name]);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isFinite" id="apidoc.element.tmi.js.utils.isFinite">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isFinite
        <span class="apidocSignatureSpan">(int)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(int) =&gt; { return isFinite(int) &amp;&amp; !isNaN(parseFloat(int)); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		var lastSpace = input.substring(0, length).lastIndexOf(" ");
		return [input.substring(0, lastSpace), input.substring(lastSpace + 1)];
	},

	// Parse string to number. Returns NaN if string can't be parsed to number..
	toNumber: (num, precision) =&gt; {
		if (num === null) return 0;
		var factor = Math.pow(10, self.<span class="apidocCodeKeywordSpan">isFinite</span>(precision) ? precision : 0);
		return Math.round(num * factor) / factor;
	},

	// Merge two arrays..
	union: (arr1, arr2) =&gt; {
		var hash = {};
		var ret = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isInteger" id="apidoc.element.tmi.js.utils.isInteger">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isInteger
        <span class="apidocSignatureSpan">(int)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(int) =&gt; { return !isNaN(self.toNumber(int, 0)); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    },

    // Timeout username on channel for X seconds..
    timeout: function timeout(channel, username, seconds, reason) {
channel = _.channel(channel);
username = _.username(username);

if (!_.isNull(seconds) &amp;&amp; !_.<span class="apidocCodeKeywordSpan">isInteger</span>(seconds)) {
    reason = seconds;
    seconds = 300;
}

seconds = _.get(seconds, 300);
reason = _.get(reason, "");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isJustinfan" id="apidoc.element.tmi.js.utils.isJustinfan">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isJustinfan
        <span class="apidocSignatureSpan">(username)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(username) =&gt; { return RegExp("^(justinfan)(\\d+$)", "g").test(username); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isNode" id="apidoc.element.tmi.js.utils.isNode">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isNode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">() =&gt; {
		try {
			if (module.exports = "object" === typeof process &amp;&amp; Object.prototype.toString.call(process) === "[object process]") { return
true; }
			return false;
		} catch(e) {
			return false;
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set the url to options.uri or options.url..
var url = _.get(options.url, null) === null ? _.get(options.uri, null) : _.get(options.url, null);

// Make sure it is a valid url..
if (!_.isURL(url)) { url = url.charAt(0) === "/" ? `https://api.twitch.tv/kraken${url}` : `https://api.twitch.tv/kraken
/${url}`; }

// We are inside a Node application, so we can use the request module..
if (_.<span class="apidocCodeKeywordSpan">isNode</span>()) {
    request(_.merge(options, { url: url, method: "GET", json: true }), function (err, res, body) {
        callback(err, res, body);
    });
}
// Inside an extension -&gt; we cannot use jsonp!
else if (_.isExtension()) {
  options = _.merge(options, { url: url, method: "GET", headers: {} })
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isNull" id="apidoc.element.tmi.js.utils.isNull">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isNull
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(obj) =&gt; { return obj === null; }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    },

    // Timeout username on channel for X seconds..
    timeout: function timeout(channel, username, seconds, reason) {
channel = _.channel(channel);
username = _.username(username);

if (!_.<span class="apidocCodeKeywordSpan">isNull</span>(seconds) &amp;&amp; !_.isInteger(seconds)) {
    reason = seconds;
    seconds = 300;
}

seconds = _.get(seconds, 300);
reason = _.get(reason, "");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isRegex" id="apidoc.element.tmi.js.utils.isRegex">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isRegex
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; { return /[\|\\\^\$\*\+\?\:\#]/.test(str); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isString" id="apidoc.element.tmi.js.utils.isString">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isString
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; { return typeof(str) === "string"; }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    OF SUCH DAMAGE.
*/
var _ = require("./utils");

module.exports = {
    // Parse Twitch badges..
    badges: function badges(tags) {
        if (_.<span class="apidocCodeKeywordSpan">isString</span>(tags["badges"])) {
var badges = {};
var explode = tags["badges"].split(",");

for (var i = 0; i &lt; explode.length; i++) {
    var parts = explode[i].split("/");
    if (!parts[1]) return;
    badges[parts[0]] = parts[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.isURL" id="apidoc.element.tmi.js.utils.isURL">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>isURL
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; { return RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168
)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(str); }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var _ = require("./utils");

var api = function api(options, callback) {
// Set the url to options.uri or options.url..
var url = _.get(options.url, null) === null ? _.get(options.uri, null) : _.get(options.url, null);

// Make sure it is a valid url..
if (!_.<span class="apidocCodeKeywordSpan">isURL</span>(url)) { url = url.charAt(0) === "/" ? `https://api.twitch.tv/kraken
${url}` : `https://api.twitch.tv/kraken/${url}`; }

// We are inside a Node application, so we can use the request module..
if (_.isNode()) {
    request(_.merge(options, { url: url, method: "GET", json: true }), function (err, res, body) {
        callback(err, res, body);
    });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.justinfan" id="apidoc.element.tmi.js.utils.justinfan">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>justinfan
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">() =&gt; { return `justinfan${Math.floor((Math.random() * 80000) + 1000)}`; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.merge" id="apidoc.element.tmi.js.utils.merge">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>merge
        <span class="apidocSignatureSpan">(obj1, obj2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(obj1, obj2) =&gt; {
		for (var p in obj2) {
			try {
				if (obj2[p].constructor == Object) { obj1[p] = self.merge(obj1[p], obj2[p]); }
				else { obj1[p] = obj2[p]; }
			} catch(e) { obj1[p] = obj2[p]; }
		}
		return obj1;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var url = _.get(options.url, null) === null ? _.get(options.uri, null) : _.get(options.url, null);

// Make sure it is a valid url..
if (!_.isURL(url)) { url = url.charAt(0) === "/" ? `https://api.twitch.tv/kraken${url}` : `https://api.twitch.tv/kraken
/${url}`; }

// We are inside a Node application, so we can use the request module..
if (_.isNode()) {
    request(_.<span class="apidocCodeKeywordSpan">merge</span>(options, { url: url, method: "GET", json: true }), function
 (err, res, body) {
        callback(err, res, body);
    });
}
// Inside an extension -&gt; we cannot use jsonp!
else if (_.isExtension()) {
  options = _.merge(options, { url: url, method: "GET", headers: {} })
  // prepare request
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.password" id="apidoc.element.tmi.js.utils.password">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>password
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; { return str === "SCHMOOPIIE" || "" || null ? "SCHMOOPIIE" : `oauth:${str.toLowerCase().replace("oauth:", "")}`; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.promiseDelay" id="apidoc.element.tmi.js.utils.promiseDelay">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>promiseDelay
        <span class="apidocSignatureSpan">(time)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(time) =&gt; { return new Promise(function (resolve) { setTimeout(resolve, time); }); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.replaceAll" id="apidoc.element.tmi.js.utils.replaceAll">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>replaceAll
        <span class="apidocSignatureSpan">(str, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str, obj) =&gt; {
		if (str === null || typeof str === "undefined") { return null; }
	    for (var x in obj) {
	        str = str.replace(new RegExp(x, "g"), obj[x]);
	    }
	    return str;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.splitLine" id="apidoc.element.tmi.js.utils.splitLine">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>splitLine
        <span class="apidocSignatureSpan">(input, length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(input, length) =&gt; {
		var lastSpace = input.substring(0, length).lastIndexOf(" ");
		return [input.substring(0, lastSpace), input.substring(lastSpace + 1)];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.toNumber" id="apidoc.element.tmi.js.utils.toNumber">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>toNumber
        <span class="apidocSignatureSpan">(num, precision)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(num, precision) =&gt; {
		if (num === null) return 0;
		var factor = Math.pow(10, self.isFinite(precision) ? precision : 0);
		return Math.round(num * factor) / factor;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	// Value is a boolean..
	isBoolean: (obj) =&gt; { return typeof(obj) === "boolean"; },

	// Value is a finite number..
	isFinite: (int) =&gt; { return isFinite(int) &amp;&amp; !isNaN(parseFloat(int)); },

	// Value is an integer..
	isInteger: (int) =&gt; { return !isNaN(self.<span class="apidocCodeKeywordSpan">toNumber</span>(int, 0)); },

	// Username is a justinfan username..
	isJustinfan: (username) =&gt; { return RegExp("^(justinfan)(\\d+$)", "g").test(username); },

	// Value is null..
	isNull: (obj) =&gt; { return obj === null; },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.unescapeHtml" id="apidoc.element.tmi.js.utils.unescapeHtml">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>unescapeHtml
        <span class="apidocSignatureSpan">(safe)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(safe) =&gt; {
		return safe.replace(/\\&amp;amp\\;/g, "&amp;")
			.replace(/\\&amp;lt\\;/g, "&lt;")
			.replace(/\\&amp;gt\\;/g, "&gt;")
			.replace(/\\&amp;quot\\;/g, "\"")
			.replace(/\\&amp;#039\\;/g, "'");
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

return tags;
    },

    // Parse regex emotes..
    emoteRegex: function emoteRegex(msg, code, id, obj) {
var space = /\S+/g;
var regex = new RegExp("(\\b|^|\s)"+_.<span class="apidocCodeKeywordSpan">unescapeHtml</span>(code)+"(\\b|$|\s)&amp;#
x22;);
var match;

// Check if emote code matches using RegExp and push it to the object..
while ((match = space.exec(msg)) !== null) {
    if (regex.test(match[0])) {
        obj[id] = obj[id] || [];
        obj[id].push([match.index, space.lastIndex - 1])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.union" id="apidoc.element.tmi.js.utils.union">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>union
        <span class="apidocSignatureSpan">(arr1, arr2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(arr1, arr2) =&gt; {
		var hash = {};
		var ret = [];
		for(var i=0; i &lt; arr1.length; i++) {
			var e = arr1[i];
			if (!hash[e]) {
				hash[e] = true;
				ret.push(e);
			}
		}
		for(var i=0; i &lt; arr2.length; i++) {
			var e = arr2[i];
			if (!hash[e]) {
				hash[e] = true;
				ret.push(e);
			}
		}
		return ret;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.tmi.js.utils.username" id="apidoc.element.tmi.js.utils.username">
        function <span class="apidocSignatureSpan">tmi.js.utils.</span>username
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">(str) =&gt; {
		var username = typeof str === "undefined" || str === null ? "" : str;
		return username.charAt(0) === "#" ? username.substring(1).toLowerCase() : username.toLowerCase();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    resolve([channel, message]);
});
    },

    // Ban username on channel..
    ban: function ban(channel, username, reason) {
channel = _.channel(channel);
username = _.<span class="apidocCodeKeywordSpan">username</span>(username);
reason = _.get(reason, "");

// Send the command to the server and race the Promise against a delay..
return this._sendCommand(this._getPromiseDelay(), channel, `/ban ${username} ${reason}`, (resolve, reject) =&gt; {
    // Received _promiseBan event, resolve or reject..
    this.once("_promiseBan", (err) =&gt; {
        if (!err) { resolve([channel, username, reason]); }
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>